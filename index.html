<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Travylway — Airport Rides Made Simple</title>
  <meta name="theme-color" content="#000000" />
  <meta name="robots" content="noindex, nofollow" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%23000'/%3E%3Ctext x='50%' y='56%' font-size='38' text-anchor='middle' fill='%23D4AF37' font-family='Segoe UI, Roboto, Arial, sans-serif'%3ET%3C/text%3E%3C/svg%3E">

  <style>
    :root{
      --bg:#000; --fg:#fff; --muted:#A9B0BA;
      --card:#0b0b0b; --stroke:#1e1e1e;
      --gold:#D4AF37; --gold-600:#B08D2B; --gold-300:#E6C56E;
      --accent:var(--gold);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
    h1,h2,h3{margin:0}
    img{max-width:100%;height:auto}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .muted{color:var(--muted)}

    /* Top announcement */
    .topbar{position:sticky;top:0;z-index:1000;width:100%;background:linear-gradient(180deg,#0a0a0a,#000);border-bottom:1px solid var(--gold-600);color:var(--fg)}
    .topbar .inner{display:flex;gap:12px;align-items:center;justify-content:space-between}
    .topbar .msg{display:flex;gap:10px;align-items:center;font-weight:600}
    .topbar .dot{width:10px;height:10px;border-radius:50%;background:var(--gold)}

    /* Buttons */
    .btn,.btn-ghost{display:inline-block;padding:8px 14px;border-radius:12px;font-weight:700;text-decoration:none;line-height:1}
    .btn{background:linear-gradient(180deg,var(--gold-300),var(--gold));color:#1a1a1a;border:1px solid var(--gold-300)}
    .btn:hover{background:linear-gradient(180deg,var(--gold),var(--gold-600))}
    .btn-ghost{background:transparent;color:var(--fg);border:1px solid var(--gold)}
    .btn-ghost:hover{background:rgba(212,175,55,.08)}

    /* Header / nav */
    header{background:linear-gradient(180deg,#050505,#000);border-bottom:1px solid var(--stroke)}
    .header-row{display:flex;align-items:center;gap:16px;justify-content:space-between;flex-wrap:wrap}
    nav{display:flex;gap:16px;align-items:center;flex-wrap:wrap}
    nav a{color:var(--muted);text-decoration:none}
    nav a:hover{color:var(--gold)}
    .btn-header{padding:8px 12px}
    nav .nav-icon{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px;color:var(--gold);border:1px solid var(--gold);text-decoration:none}
    nav .nav-icon:hover{background:rgba(212,175,55,.08)}

    /* Blocks */
    .block{background:var(--card);border:1px solid var(--stroke);border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .block-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .block-head h2{font-size:1.1rem;position:relative;padding-bottom:6px}
    .block-head h2::after{content:"";position:absolute;left:0;bottom:0;width:56px;height:2px;background:var(--gold)}
    .block-link{color:var(--gold);text-decoration:none;font-weight:600}
    .block-link:hover{text-decoration:underline}

    /* Main column */
    .main-column{display:grid;gap:20px;grid-template-columns:1fr}

    /* Brand + tagline */
    .brand-word{display:flex;justify-content:center;gap:6px;flex-wrap:wrap;width:100%;margin:0 auto 8px;text-align:center;font-weight:900;font-size:2rem;letter-spacing:.06em}
    .brand-word .chip{display:inline-flex;align-items:center;justify-content:center;background:var(--gold);color:#000;padding:4px 8px;border-radius:8px;box-shadow:0 0 10px rgba(212,175,55,0.3)}
    .tagline{color:#fff;text-align:center;font-size:1.2rem;font-weight:600;margin:4px 0 16px}

    /* Lists & small text */
    .list-clean{list-style:none;margin:0;padding:0}
    .list-clean li{margin:0 0 8px}
    .list-clean a{display:block;padding:10px 12px;border:1px solid var(--stroke);border-radius:10px;text-decoration:none;color:var(--fg);background:var(--card)}
    .list-clean a:hover{border-color:var(--gold);box-shadow:0 0 0 2px rgba(212,175,55,.15) inset}
    .small-muted{color:var(--muted);font-size:.9rem}

    /* Tables */
    .table{width:100%;border-collapse:collapse}
    .table th,.table td{border-bottom:1px solid var(--stroke);padding:10px 8px;text-align:left}
    .table th{color:var(--gold);border-bottom:1px solid var(--gold-600)}

    /* Flight tracking */
    #flight-tracking .flight-embed{display:flex;justify-content:center}
    #flight-tracking .flight-embed iframe{width:100%;max-width:960px;min-height:360px;border:0;border-radius:12px}
    #flight-tracking .flight-embed>*{max-width:960px;width:100%}

    /* Footer */
    footer{margin-top:40px;padding:16px;text-align:center;color:var(--muted);border-top:1px solid var(--stroke)}

    /* A11y */
    :focus-visible{outline:2px solid var(--gold-300);outline-offset:2px;border-radius:8px}
    ::selection{background:rgba(212,175,55,.35);color:#000}

    .coming-soon{color:var(--muted);text-align:center;font-size:.95rem;margin-top:8px}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}
    input,button{font:inherit}
  </style>
</head>
<body>
  <!-- Announcement -->
  <div class="topbar" role="region" aria-label="Site announcement">
    <div class="wrap inner">
      <div class="msg" role="status" aria-live="polite">
        <span class="dot" aria-hidden="true"></span>
        <div>
          <div style="font-size:0.95rem"><span style="color:var(--gold)">Creating the new Travylway.com</span> — Rebuild in progress.</div>
          <div class="muted" style="font-size:0.9rem">Temporary site is live while new site is under construction.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header role="banner">
    <div class="wrap header-row">
      <h1 style="font-size:1.5rem;color:var(--gold);margin-right:auto">Travylway</h1>
      <nav aria-label="Primary">
        <a href="/">Home</a>
        <a href="/drivers/">Drivers</a>
        <a href="/reviews/">Reviews</a>
        <a href="/shopping/">Shopping</a>
        <a href="/select/" class="nav-icon" aria-label="Select Items">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path fill="currentColor" d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z"/>
          </svg>
        </a>
      </nav>
      <a class="btn btn-header" href="https://travylway.setmore.com" target="_blank" rel="noopener">Book a Ride</a>
    </div>
  </header>

  <!-- Main -->
  <main class="wrap" role="main">
    <div class="main-column">
      <!-- Brand + tagline -->
      <div>
        <div class="brand-word" aria-label="Travylway">
          <span class="chip">T</span><span class="chip">r</span><span class="chip">a</span>
          <span class="chip">v</span><span class="chip">y</span><span class="chip">l</span>
          <span class="chip">w</span><span class="chip">a</span><span class="chip">y</span>
        </div>
        <p class="tagline">Airport Rides Made Simple</p>
      </div>

      <!-- Flight Tracking -->
      <section class="block" id="flight-tracking" style="text-align:center">
        <header class="block-head" style="justify-content:center">
          <h2>Flight Tracking</h2>
        </header>
        <div class="flight-embed" aria-live="polite">
          <!-- your flight tracking widget here -->
        </div>
      </section>

      <!-- Crew Booking (DEN-only) -->
      <section class="block" id="crew-book" style="text-align:center">
        <header class="block-head" style="justify-content:center"><h2>Crew Booking (DEN only)</h2></header>
        <p class="muted" style="margin:0 0 10px">Flight attendants & pilots • Airport-only rides</p>

        <form id="trav-form" onsubmit="return false;"
              aria-label="Crew booking form"
              style="display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:840px;margin:0 auto">
          <div style="grid-column:1/-1">
            <label for="access" style="display:block;font-size:12px;color:#bbb">Crew Access Code</label>
            <input id="access" type="password" inputmode="text" autocomplete="off" placeholder="Enter crew code" required
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>

          <div>
            <label for="pickup" style="display:block;font-size:12px;color:#bbb">Pickup address</label>
            <input id="pickup" type="text" placeholder="Start typing…" required
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>
          <div>
            <label for="dropoff" style="display:block;font-size:12px;color:#bbb">Dropoff</label>
            <input id="dropoff" type="text"
                   value="Denver International Airport (DEN), 8500 Peña Blvd, Denver, CO"
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>

          <div>
            <label for="date" style="display:block;font-size:12px;color:#bbb">Pickup date</label>
            <input id="date" type="date" required
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>
          <div>
            <label for="time" style="display:block;font-size:12px;color:#bbb">Pickup time</label>
            <input id="time" type="time" required
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>

          <div>
            <label for="airline" style="display:block;font-size:12px;color:#bbb">Airline</label>
            <input id="airline" type="text" placeholder="e.g., United"
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>
          <div>
            <label for="flight" style="display:block;font-size:12px;color:#bbb">Flight #</label>
            <input id="flight" type="text" placeholder="e.g., UA123"
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>

          <div style="grid-column:1/-1">
            <label for="notes" style="display:block;font-size:12px;color:#bbb">Notes</label>
            <input id="notes" type="text" placeholder="Gate, bags, terminal, etc."
                   style="width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#0b0b0b;color:#fff" />
          </div>

          <div style="grid-column:1/-1;display:flex;gap:8px;align-items:center;justify-content:center">
            <button id="calc" type="button" class="btn-ghost">Estimate Distance</button>
            <div id="est" style="color:#fff;font-weight:700" aria-live="polite"></div>
            <div id="err" style="color:#f66;margin-left:8px" aria-live="assertive"></div>
          </div>

          <div style="grid-column:1/-1;display:flex;gap:8px;justify-content:center">
            <button id="send" type="button" class="btn">Request Pickup</button>
            <span id="ok" style="color:#0f0;font-weight:700" aria-live="polite"></span>
          </div>
        </form>
        <small class="muted" style="display:block;margin-top:8px">Price confirmed via text. DEN-only during rebuild.</small>
      </section>

      <!-- Flight Attendants -->
      <section class="block" style="text-align:center">
        <header class="block-head" style="justify-content:center"><h2>Domestic Flight Attendant Booking Portal</h2></header>
        <p class="muted" style="margin:0 0 12px">Priority airport pickups for U.S.-based crew. DEN first — expanding to more airports.</p>
        <div style="margin-top:12px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
          <a class="btn" href="/flight-attendants/" rel="noopener">View Portal</a>
          <a class="btn-ghost" href="https://travylway.setmore.com" target="_blank" rel="noopener">Book Crew Ride</a>
        </div>
      </section>

      <!-- Drivers Online -->
      <section class="block">
        <header class="block-head"><h2>Driver Online</h2></header>
        <table class="table" aria-label="Drivers currently online">
          <thead><tr><th>Name</th><th>City</th><th>Status</th></tr></thead>
          <tbody id="tbl-online"><tr><td>—</td><td>—</td><td class="muted">No drivers online yet</td></tr></tbody>
        </table>
        <p class="coming-soon">Coming Soon: Live Data (auto-updates when APIs go live)</p>
      </section>

      <!-- Available Pickups -->
      <section class="block">
        <header class="block-head"><h2>Available Pickups</h2></header>
        <table class="table" aria-label="Available pickup requests">
          <thead><tr><th>Airport</th><th>Window</th><th>Notes</th></tr></thead>
          <tbody id="tbl-available"><tr><td>DEN</td><td>—</td><td class="muted">Add your first slot</td></tr></tbody>
        </table>
        <p class="coming-soon">Coming Soon: Live Data (auto-updates when APIs go live)</p>
      </section>

      <!-- Future Pickups -->
      <section class="block">
        <header class="block-head"><h2>Future Pickups</h2></header>
        <table class="table" aria-label="Scheduled future pickups">
          <thead><tr><th>Airport</th><th>Date</th><th>Window</th></tr></thead>
          <tbody id="tbl-future"><tr><td>DEN</td><td>—</td><td class="muted">Coming soon</td></tr></tbody>
        </table>
        <p class="coming-soon">Coming Soon: Live Data (auto-updates when APIs go live)</p>
      </section>

      <!-- Domestic Portals -->
      <section class="block">
        <header class="block-head" style="justify-content:space-between">
          <h2>Domestic Portals</h2>
        </header>
        <ul class="list-clean">
          <li><a href="/airports/abq/">Albuquerque International Sunport <span class="small-muted">· ABQ</span></a></li>
          <li><a href="/airports/den/">Denver International Airport <span class="small-muted">· DEN</span></a></li>
          <li><a href="/airports/iad/">Washington Dulles International Airport <span class="small-muted">· IAD</span></a></li>
          <li><a href="/airports/jfk/">John F. Kennedy International Airport <span class="small-muted">· JFK</span></a></li>
          <li><a href="/airports/lga/">LaGuardia Airport <span class="small-muted">· LGA</span></a></li>
          <li><a href="/airports/ewr/">Newark Liberty International Airport <span class="small-muted">· EWR</span></a></li>
          <li><a href="/airports/dca/">Ronald Reagan Washington National Airport <span class="small-muted">· DCA</span></a></li>
        </ul>
      </section>

      <!-- International Portals -->
      <section class="block">
        <header class="block-head" style="justify-content:space-between">
          <h2>International Portals</h2>
        </header>
        <ul class="list-clean">
          <li><a href="/airports/lhr/">Heathrow (LHR) <span class="small-muted">· Coming soon</span></a></li>
          <li><a href="/airports/cdg/">Charles de Gaulle (CDG) <span class="small-muted">· Coming soon</span></a></li>
          <li><a href="/airports/syd/">Sydney (SYD) <span class="small-muted">· Coming soon</span></a></li>
        </ul>
      </section>

      <!-- General Inquiries -->
      <section class="block" id="general-inquiries">
        <header class="block-head" style="justify-content:space-between">
          <h2>General Inquiries</h2>
        </header>
        <p class="muted" style="margin:0 0 12px">Questions about rides, pricing, or availability? We’ve got you.</p>
        <div style="display:flex;justify-content:center;margin-top:12px">
          <a class="btn"
             href="https://wa.me/17204748851?text=Hi%20Travylway%20%E2%80%94%20I%20have%20a%20general%20question."
             target="_blank" rel="noopener" aria-label="Chat on WhatsApp">WhatsApp</a>
        </div>
        <small class="muted" style="display:block;text-align:center;margin-top:10px">Typical reply: under an hour during business hours.</small>
      </section>
    </div>
  </main>

  <footer role="contentinfo">
    <small>© <span id="year"></span> Travylway · Global rides made simple</small>
  </footer>

  <!-- Lazy-load Google Maps when the booking block is in view. Replace YOUR_API_KEY. -->
  <script>
    const yr = document.getElementById('year'); if(yr) yr.textContent = new Date().getFullYear();

    // Lazy loader
    let mapsLoaded = false;
    const crewBlock = document.getElementById('crew-book');
    if ('IntersectionObserver' in window && crewBlock){
      const io = new IntersectionObserver((entries)=>{
        if (entries.some(e=>e.isIntersecting) && !mapsLoaded){
          mapsLoaded = true;
          const s = document.createElement('script');
          s.src = "https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&loading=async";
          s.async = true;
          s.onload = initCrewForm;
          document.head.appendChild(s);
          io.disconnect();
        }
      }, {rootMargin:"200px"});
      io.observe(crewBlock);
    } else {
      // Fallback: load immediately
      const s = document.createElement('script');
      s.src = "https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&loading=async";
      s.async = true;
      s.onload = initCrewForm;
      document.head.appendChild(s);
    }

    function initCrewForm(){
      const $ = sel => document.querySelector(sel);
      const API = '/api/trav/request';
      let pickupPlace=null, dropoffPlace=null, svc=null;

      // default date/time
      const now=new Date();
      const d=$('#date'); if(d) d.value = now.toISOString().slice(0,10);
      const t=$('#time'); if(t) t.value = new Date(now.getTime()+60*60*1000).toTimeString().slice(0,5);

      // places
      const opt={fields:['geometry','formatted_address','place_id','name'],types:['geocode']};
      const ap1 = new google.maps.places.Autocomplete($('#pickup'), opt);
      const ap2 = new google.maps.places.Autocomplete($('#dropoff'), opt);
      ap1.addListener('place_changed',()=> pickupPlace = ap1.getPlace());
      ap2.addListener('place_changed',()=> dropoffPlace = ap2.getPlace());
      svc = new google.maps.DistanceMatrixService();

      $('#calc')?.addEventListener('click', async ()=>{
        const err=$('#err'), est=$('#est'); err.textContent=''; est.textContent='Calculating…';
        try{
          if(!pickupPlace?.geometry || !dropoffPlace?.geometry){ est.textContent=''; err.textContent='Enter pickup & dropoff first.'; return; }
          const r = await new Promise((res,rej)=>svc.getDistanceMatrix({
            origins:[pickupPlace.geometry.location], destinations:[dropoffPlace.geometry.location],
            travelMode:google.maps.TravelMode.DRIVING
          }, (out,status)=>status==='OK'?res(out):rej(status)));
          const row=r.rows?.[0]?.elements?.[0];
          if(!row || row.status!=='OK'){ est.textContent=''; err.textContent='No route found.'; return; }
          const miles=row.distance.value/1609.344, mins=row.duration.value/60;
          est.textContent=`~${miles.toFixed(1)} mi • ~${Math.round(mins)} min`;
        }catch{ est.textContent=''; $('#err').textContent='Distance error.'; }
      });

      $('#send')?.addEventListener('click', async ()=>{
        $('#ok').textContent=''; $('#err').textContent='';
        const payload={
          access: $('#access')?.value?.trim()||'',
          pickup: $('#pickup')?.value?.trim()||'',
          dropoff: $('#dropoff')?.value?.trim()||'',
          date: $('#date')?.value||'',
          time: $('#time')?.value||'',
          airline: $('#airline')?.value?.trim()||'',
          flight: $('#flight')?.value?.trim()||'',
          notes: $('#notes')?.value?.trim()||'',
          miles_hint: $('#est')?.textContent||''
        };

        // DEN-only guard (fixes tiny typo)
        const d = (payload.dropoff||'').toLowerCase();
        if (!(d.includes('denver international') || d.includes('8500 pe') || d.includes('(den'))){
          $('#err').textContent='Airport-only rides (DEN).'; return;
        }

        if(!payload.access){ $('#err').textContent='Crew code required.'; return; }
        if(!payload.pickup || !payload.dropoff){ $('#err').textContent='Add addresses.'; return; }

        try{
          const res=await fetch(API,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
          const data=await res.json();
          if(!res.ok){ $('#err').textContent=data?.error||'Request failed.'; return; }
          $('#ok').textContent='Request received. We’ll confirm shortly.';
          document.getElementById('trav-form')?.reset(); document.getElementById('est').textContent='';
        }catch{ $('#err').textContent='Network error.'; }
      });
    }
  </script>
</body>
</html>


